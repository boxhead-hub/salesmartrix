<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin Studio — Control Chart Speed</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body{margin:0;font-family:Inter, sans-serif;background:#0f1724;color:#e6eef8;padding:30px}
    .studio{max-width:800px;margin:auto;background:#0b1220;padding:25px;border-radius:14px;box-shadow:0 8px 20px rgba(0,0,0,0.5)}
    h1{margin-top:0;font-size:1.6rem}
    label{display:block;margin-top:20px;font-size:1rem}
    input,select{margin-top:8px;padding:10px;width:100%;border-radius:8px;border:none;background:#131c2f;color:#fff}
    button{margin-top:20px;padding:12px 16px;border:none;border-radius:8px;background:#4f46e5;color:white;font-size:1rem;width:100%;cursor:pointer}
    button:hover{opacity:.85}
    .chart-box{margin-top:30px}
  </style>
</head>
<body>
  <div class="studio">
    <h1>Admin Studio — Edit Chart Speed</h1>
    <p>Change how fast the chart increases. Default: <b>+1000 every second</b>.</p>

    <label>Increase Amount (e.g., 1000, 5000, 10000)</label>
    <input type="number" id="increaseValue" value="1000" />

    <label>Update Speed</label>
    <select id="speedSelect">
      <option value="1000">Every 1 second</option>
      <option value="500">Every 0.5 sec</option>
      <option value="2000">Every 2 sec</option>
      <option value="5000">Every 5 sec</option>
    </select>

    <button id="applyBtn">Apply Changes</button>

    <div class="chart-box">
      <canvas id="liveChart" height="150"></canvas>
    </div>
  </div>

  <script>
    let currentValue = 0;
    let intervalId;
    let increaseAmount = 1000;
    let updateSpeed = 1000;

    const ctx = document.getElementById('liveChart').getContext('2d');

    const data = {
      labels: [new Date().toLocaleTimeString()],
      datasets: [{
        label: 'Revenue',
        data: [0],
        tension: 0.25,
        borderWidth: 2
      }]
    };

    const chart = new Chart(ctx, {
      type: 'line',
      data:data,
      options:{animation:false,scales:{y:{beginAtZero:true}},plugins:{legend:{display:false}}}
    });

    function startUpdating(){
      clearInterval(intervalId);
      intervalId = setInterval(() => {
        currentValue += increaseAmount;

        data.labels.push(new Date().toLocaleTimeString());
        data.datasets[0].data.push(currentValue);

        if(data.labels.length>20){
          data.labels.shift();
          data.datasets[0].data.shift();
        }

        chart.update();
      }, updateSpeed);
    }

    startUpdating();

    document.getElementById('applyBtn').onclick = () => {
      increaseAmount = Number(document.getElementById('increaseValue').value);
      updateSpeed = Number(document.getElementById('speedSelect').value);
      startUpdating();
    };
  </script>
</body>
</html>
